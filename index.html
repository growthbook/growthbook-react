<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Growth Book React Demo</title>

  <!-- Bootstrap core CSS -->
  <link href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/prism-themes@1.6.0/themes/prism-dracula.css" rel="stylesheet">

  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>

  <script async src="https://ga.jspm.io/npm:es-module-shims@0.10.1/dist/es-module-shims.min.js"></script>
  <script type="importmap">
  {
    "imports": {
      "@growthbook/growthbook-react": "https://ga.jspm.io/npm:@growthbook/growthbook-react@0.4.0/dist/dev.index.js",
      "react": "https://ga.jspm.io/npm:react@17.0.1/dev.index.js",
      "react-dom": "https://ga.jspm.io/npm:react-dom@17.0.1/dev.index.js"
    },
    "scopes": {
      "https://ga.jspm.io/": {
        "@growthbook/growthbook": "https://ga.jspm.io/npm:@growthbook/growthbook@0.11.0/dist/dev.index.js",
        "object-assign": "https://ga.jspm.io/npm:object-assign@4.1.1/index.js",
        "scheduler": "https://ga.jspm.io/npm:scheduler@0.20.2/dev.index.js",
        "scheduler/tracing": "https://ga.jspm.io/npm:scheduler@0.20.2/dev.tracing.js"
      }
    }
  }
  </script>
  <style>
    @media(max-width: 767px) {
      body {
        padding-bottom: 400px;
      }
    }

    .growthbook_dev {
      opacity: 1 !important;
      padding: 10px 15px 5px !important;
      border-radius: 5px !important;
      position: static !important;
      box-shadow: none !important;
    }

    .growthbook_dev .exp {
      max-height: 200px !important;
      margin: 5px 0 !important;
    }

    .growthbook_dev button {
      display: none;
    }

    .growthbook_dev table {
      margin: 5px 0 !important;
    }
  </style>
</head>

<body>
  <div class="container mt-2">
    <h1 class="text-center text-secondary font-weight-bold">
      <img alt="Growth Book React" width=300 style="vertical-align:text-bottom;"
        src="https://camo.githubusercontent.com/877084ad7be5134a8e686f7da8585a02c721d326b874432af7dde3c58616b24d/68747470733a2f2f7777772e67726f777468626f6f6b2e696f2f6c6f676f732f67726f777468626f6f6b2d6c6f676f4032782e706e67" />
      React Demo
    </h1>
    <div class="text-secondary text-center mb-2">
      <strong>Powerful A/B Testing for React Apps.</strong>
    </div>
    <div id="root" class="mb-4 d-flex"></div>
    <div class="row mb-3">
      <div class="col">
        <h4><strong>Step 1.</strong> Configure your app</h4>
        <pre><code class="language-jsx">import { GrowthBook } 
  from '@growthbook/growthbook-react'

// Create a GrowthBook instance
const growthbook = new GrowthBook({
  user: { id: mixpanel.get_distinct_id() },
  trackingCallback: (experiment, result) => {
    mixpanel.track("Experiment Viewed", {
      experiment: experiment.key,
      variation: result.variationId
    })
  }
});

export default function App() {
  return (
    &lt;GrowthBookProvider growthbook={growthbook}&gt;
      &lt;OtherComponent/&gt;
    &lt;/GrowthBookProvider&gt;
  )
}</code></pre>
      </div>
      <div class="col">
        <h4><strong>Step 2.</strong> Run experiments</h4>
        <pre><code class="language-jsx">import { useExperiment }
  from '@growthbook/growthbook-react'

export default function OtherComponent() {
  const greeting = useExperiment({
    key: "new-greeting",
    variations: ["Hello", "Hi", "Good Day"],
  })

  const darkmode = useExperiment({
    key: "darkmode",
    variations: [false, true],
  })

  return (
    &lt;div className={ darkmode.value ? "dark" : "light" }&gt;
      &lt;h1&gt;{ greeting.value } World&lt;/h1&gt;
      ...
    &lt;/div&gt;
  )
}</code></pre>
      </div>
    </div>
    <div class="mb-2">
      <h4><strong>Step 3.</strong> Analyze results</h4>
      <p>
        Query your raw data, calculate significance, decide on a winner, and document your findings.
      </p>
      <p>
        <em class="text-muted">
          Check out the open-source <a href="https://www.growthbook.io" class="font-weight-bold">Growth Book App</a>, which
          does all of this (and much more) for you automatically.
        </em>
      </p>
    </div>

    <script type="text/babel" data-type="module">
      import * as React from "react";
      import * as ReactDOM from "react-dom";
      import * as gb from "@growthbook/growthbook-react";

      const {GrowthBook, GrowthBookProvider, useExperiment} = gb;

      const growthbook = new GrowthBook({user:{id: "123"}});

      const Demo = function () {
        const greeting = useExperiment({
          key: "new-greeting",
          variations: [
            "Hello",
            "Hi",
            "Good Day"
          ]
        });

        const darkmode = useExperiment({
          key: "darkmode",
          variations: [
            false,
            true
          ]
        });

        return (
          <div className={`d-flex flex-column mr-3 p-4 border rounded ${darkmode.value ? 'bg-dark text-light' : 'bg-light text-dark'}`} style={{ flex: 1 }}>
            <h2>{greeting.value} World</h2>
            <p>This box is being A/B tested!</p>
            <p>Use the <strong>Growth Book Dev</strong> tool on the right to change variations.</p>
            <div style={{flex:1}}/>
            <div className="d-md-flex">
              <div className="align-self-center mr-2 mb-2 mb-md-0">View the full docs on <a className={darkmode.value?'text-warning':''} href="https://github.com/growthbook/growthbook-react">GitHub</a></div>
              <iframe src="https://ghbtns.com/github-btn.html?user=growthbook&amp;repo=growthbook-react&amp;type=star&amp;count=true&amp;size=large" frameBorder="0" scrolling="0" width="130" height="30" title="GitHub"></iframe>
            </div>
          </div>
        )
      }

      const App = function () {
        return (
          <GrowthBookProvider growthbook={growthbook}>
            <Demo />
          </GrowthBookProvider>
        )
      }

      ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>

</html>